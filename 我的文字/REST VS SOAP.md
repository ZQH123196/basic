## 参考

* [REST Vs SOAP，Soap 和 Rest 的区别](https://blog.csdn.net/defonds/article/details/49000993)
* 



## 与 REST 的区别

REST 是面向资源，你向服务器获取所需的资源，然后自己进行处理。

SOAP 是面向操作的，你向服务器请求一个操作，服务器直接返回一个结果。



REST 的计算压力在客户端，由于很多图片视频等资源，网络 IO 压力在服务器。

SOAP 的计算压力在服务器，由于只是返回一个函数的结果，几乎没有什么网络 IO 压力。



所以我认为 SOAP 是活用了服务器的计算资源，因为在过去客户端的性能不佳，所以选择将压力放在服务器。

而现在是一个 web 的时代，对高清图片和视频的需求量暴增，解析视频跟图片都是需要 CPU 参与的，所以最好是加解析的压力下放到客户端，毕竟现在客户端的性能已是极佳了。所以现在很多服务器更多的是一个 IO 服务器，主要是进行资源输出的，此时 REST 基于资源的方式就非常合适了。

REST 比 SOAP 更加的适合现代高网络 IO 的场景。

当然， SOAP 还有一个好处是 REST 不能比的，那就是资源的保密性，因为 RPC 对于客户端而言，服务器就是一个黑盒子，是无法获取到服务器上任何资源的，因此用在公司与公司之间的交互是很多的，因为这样可以保证自身利益的安全。



当然，REST 是可以直接当成 RPC 来使用的，这一点跟 SOAP 就重叠了，因为 REST 完全可以在收到请求之后实时计算出所需的资源并返回，当然这样压力又在服务器了。但毫无疑问的 REST 的功能完全覆盖了 SOAP 了，我觉得除了遗留系统会用 SOAP，未来应该是没有这个玩意了。

> 事实上，JSON 都可以直接取代 SOAP，而且还要轻量。

# Why SOAP？

接下来列举一些你可能想要使用 SOAP 的原因。

## web services 安全

SOAP 不仅像 REST 一样支持 SSL，而且还支持增加了很多企业级安全特性的 WS-Security(WS = web  services)。因此它能够提供通过中介的身份验证，而不仅仅是端对端的验证(SSL)。此外，SOAP  还提供了一个数据完整性和数据隐私性的标准实现。叫它“企业级”并不是说它更安全，它只是简单提供了典型互联网服务不需要的几个安全工具而已，事实上这些工具只有在很少的一些“企业级”场景下才能派的上用场。

## web services 原子性事务

如果服务需要 ACID 事务的话，那么你就需要 SOAP 了。尽管 REST 也支持事务，但它并非完整性的而且不具备 ACID。幸运的是 ACID  事务对于互联网来说几乎没有任何意义。REST 受限于 HTTP，HTTP 本身无法提供两阶段提交分布式事务资源，但是 SOAP  可以。互联网应用一般不会需要这等级别的事务可靠性，企业级应用有时会需要。

## web services 消息可靠性

REST 不具备一个标准的消息体系，它期望客户端通过重试来处理通信失败。SOAP 具备内置的成功/重试逻辑并通过 SOAP 中介来提供端对端的可靠性。

## 总结

总之，SOAP 显然是有用的，而且还很重要。例如，如果我去写一个连接到我的银行的 iPhone 应用那么我当然需要使用 SOAP。上述三点特性都是银行事务所必须的。比如，如果我将资金从一个账户转移到另外一个账户，我需要确定它的完成。**如果第一次转账成功，但响应失败，这个时候的 REST 重试将会是灾难性的**。

# Why REST？

接下来解释为何 REST 几乎总是正确的答案。
REST 使用了标准 HTTP 因此它做什么都更加简单。创建客户端，开发 API，文档更易于理解，而且没有一件事用 REST 做起来不比 SOAP 更简单/更好。
REST 允许很多不同的数据格式而 SOAP 仅支持 XML。虽然这样看起来给 REST  增加了复杂度因为你需要处理多种格式，但以我的经验来看这样实际上有很多好处。JSON 通常更适用于承载数据而且解析起来更快。由于其对 JSON  的支持，REST 允许我们更好地支持浏览器客户端。
REST 具备更好的性能和可扩展性。REST 读取可以被缓存起来，而基于 SOAP 的读取无法被缓存。
用来做论据不太好(权威)，但是值得一提的是 Yahoo 的包括 Flickr 和 del.ici.ous 在内的所有服务都使用了 REST。Amazon 和 Ebay 两种都有使用，尽管 Amazon 内部使用的几乎全都是 REST [资源](http://www.oreillynet.com/pub/wlg/3005)。Google 曾经对于他们所有的服务仅提供 SOAP，但 2006 年起 Google 弃用了 SOAP 转投 REST [资源](http://code.google.com/apis/soapsearch/)。有趣的是在 Amazon 内部是否也有过关于 REST Vs SOAP 的争议，但是最终还是 REST 主宰了他们 web services 的架构。



